{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-09-01--flutter-image-icon/","result":{"data":{"site":{"siteMetadata":{"title":"Concigel's Blog"}},"markdownRemark":{"id":"b8a5e39b-3f1a-5695-b3cb-2810742829d2","excerpt":"Android 8.0 より Adaptive Icon が採用され、Flutter でアイコンを設定するとき、\n気をつけないと iOS と Androit…","html":"<p>Android 8.0 より Adaptive Icon が採用され、Flutter でアイコンを設定するとき、\n気をつけないと iOS と Androit のどちらかがうまく表示できてないといことが起こるので、その設定方法を残す。</p>\n<p>注）この記事は未調査部分があるため、暫定的な内容となっている。</p>\n<h2>とりあえず普通に作ってみる</h2>\n<p>Android Studio の Flutter plugin により、アイコンを作成してみる。当然、Adaptive Icon\nには対応していない。</p>\n<h3>android</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87f9f2711b8fb757ebe382c2ab012bb5/5a46d/directory_structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC8ElEQVR42p1V2XbaUBDLR7VJALMZG/C+Xa8YSNqT09P2/5/V0QCnNISQ9GEwi9HVaDTy3Wg8xcrzkZc1di8/kZsS3WaL2dzBaDzDeDr/VN3xxZrM4K48BHGKun+CqRpESYqZ7ehvnwYkS8ddwQ8jtPvvqNoNirLCdL6Qm2b/x3C+cOEFB8CsqBBGyQW7ycy+Wv8AnkD5QyAsm+0z2t03mLpVptSU7B+HFobWBIPR+FgT/cwaHw+/e81Ar9Jq7PvYloWANihMhTjJEKe5HpAVBom8T3ODKM3kWsB2XCV1AUgt3SBGE3n4na9QNhsBKPXPtWib6/sCoQyQsvhhrFfqbb1myC/XXoCq38N0O5im04mzCNhK67azxMAaYyiDHFpTHSjrQsNTUY8vX+8xWUjbTYNABsU2TVUrU4JvtjuUou9J9zeHcmIYSAsl2dE61QHIiOmTLBeGPXw54HTvVduca0gze6JJlBmUbY9MWiUoh8KWwziBs1xjIVrfBDyUrZrMlmJ0Y6TlGJkpFZRrWQjbtuuV9bl211uOYjV3u31C07TaZinWidMDQ+p48uGHGI5E6JEMxpbdTgQwkhbJjl7kldPmkOjDt/b8QsPl2odPj4nXUhlKlpfSaoU0KxSokkPIdu2HtwHZMgGNDMM0Peq6U81YTB+aum47HYqu262WeeJAbry/f8R44SCsa/UhGRoFPjCthWUpfvzwUKrNXi1jKrbYKSBtkwgYgQh6buZ3NWSMubJ+fpJr62meo5KtyI/WUaZygCtt39SQRUAyXaw9ROUhVQhAuzBlGAz8TD1HHxkKV69javfPyMpGs3Au0fQwGKn3OIzXgfC+DyVBHiRIA3eBZ5MoQw6BcUVmU3txdcJ/HwHHCVtyqpdGWHFbkhA/TChb0mHTb3VbqKUXhJqBjLGrGuow5AbbWSN+8lG0DIQOoQQEwyEXu9DM1JCpzeRhOLwJSC1o5kza2b/8Elu0mnmVMLI0RP8+N86fIdcer38ArFOTiW57ZmgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"android\"\n        title=\"\"\n        src=\"/static/87f9f2711b8fb757ebe382c2ab012bb5/5a46d/directory_structure.png\"\n        srcset=\"/static/87f9f2711b8fb757ebe382c2ab012bb5/c26ae/directory_structure.png 158w,\n/static/87f9f2711b8fb757ebe382c2ab012bb5/5a46d/directory_structure.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>iOS</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1d7c9e7d001138efd4b57c456a862ac1/5a46d/directory_structure_ios.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAADdklEQVR42o1WWWLaUBDLqdqGgAETNuN9t/ES0tz/ClNp7EdpE0w+Hl6whaSZ0ePJsjeyP52kvnxI0XTS9G+64iyX7nKR9g3XXS/r7U7mq7Us1ra8LFd31xM/nheW7A5HSepW4vIsaVFgleKFkYRJKnlZSZoXUtRnSXCcWUsF5/oSkGu+XOuDBz+Uun8HWCh5VUsGsCjNcF7J9ujIz/lcCfyaL3TdBXwB4DMe2LqeZO2bRGBGdkmeQ34mZd3oNa1wwfzo+eL4wWABiHwBCOlzSzbwM6gGiXyxhEwypNSsLOHpRZmnOK+aVr2d3QOcQYrtnMQvawXxo+gqOVamudQA4b0gSdQGe7dXC+4wXIChKxHlxYm4QQgmlUplkciy6XstToDvCbyZAiTDNYwnQ0r2o1hfJkO+nIFRf3nX81gtqGT1ur0vmb9knxz1kIU4BUOlyVABsTp4qDZkmX436SEBWZQQDybwiwwVEAwpPb0pSpimyn7z0EMXHp4bbRsXvZjdeMjFybllPQ04VjmAhzFYcVL4cmAAwZBFSXAeQQHvcXRnU32oHtZDUQhIWYZNWlQ65/wRthCP9nc9ZGXZ2EYyW4ZTc+66q+ScHu4P022jkvkC+sxDUf56WKnEuu2Gxsb3tMDePWBoO87AECBsGwUE2wKFKmAF24Y2+GzsohwmZXr04CF7jvGF0csBkozRVQKU2cgjR7F4JNmEQ8TpuGFIeZwM5mSLoiRmiqCEaTMdDpjloBoA2S75WKAkH0JX2wbsKJnXDNnHDM/D/J6Qd4YhgbnafvCwwDO8pmT24ufEZpyDOtOGRaGHBOLLZkoIwMJkpsFH1rxPlsS4AtKHH88zWR0OSJty8BAM8zH7wlE2mROkQ+rEIyDbx2xeV0AHkZ5ikwrzUpOEk0AATWf0IIvAhGYf8r612SjIcvMqKyyj8gpIH7aOK26USIntlPFl5NBHw24PS+ibqSyPpij/AHJR8g6bVIldzx1bZgjTHL13lj2m6P9N6XZ9Apwtlmgb7inV1SsTApTKIzctI/EhIPPwFXkYYxICeEaweIwpAp4xJdHobYSAnQTkhRk9jy1DQLyoqYItgQXp339fbSDotxhyUlI0L6WRFWeXADxnJ+zg4wEqWJxJQAu+WMulLLxYds2H+EGgja0TgwIdPU//egx/Q6wv/4YQ8A91N2T3NLHKgAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iOS\"\n        title=\"\"\n        src=\"/static/1d7c9e7d001138efd4b57c456a862ac1/5a46d/directory_structure_ios.png\"\n        srcset=\"/static/1d7c9e7d001138efd4b57c456a862ac1/c26ae/directory_structure_ios.png 158w,\n/static/1d7c9e7d001138efd4b57c456a862ac1/5a46d/directory_structure_ios.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>android は lc_launcher.png を、iOS は Icon-App-XXXXXX.png を置き換える。Android は\nAndroid Studio に付属の <a href=\"https://developer.android.com/studio/write/image-asset-studio?hl=JA\">Image Asset Studio</a>を使用することになるが、Flutter プロジェクトの場合、メニューに出てきてくれないので、新たに Android プロジェクトを作成し、そこに作成したアイコンを置いて\nAdaptive Icon を生成した（めんどくさい）。</p>\n<p>iOS の場合、いろんなサイズの画像を用意するのが大変なので、<a href=\"https://resizeappicon.com/\">App Icon Resizer</a> を使用したが、iOS で必要なアイコンの数が増えすぎてしまい、まだ足りないサイズがある。それは仕方ないので、<a href=\"https://www.gimp.org/\">gimp</a> で作成した。</p>\n<p>この際注意しないといけないのは、android は Adaptive Icon でアルファチャンネルを使用するが、\niOS はアルファチャンネルを無視するので、アルファチャンネルの色を背景色にするか、アルファチャンネルありとなしの画像２種類を用意しなくてはならない（大体の場合、２種類用意することになると思う）。</p>\n<p>これだけの設定で android の場合、バックグラウンドアイコンがデフォルトのもの(app/src/main/res/drawable/launch_background.xml) が使用されるので、pubspec.yaml を以下のように設定する。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">flutter_icons</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">android</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">ios</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">image_path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"assets/icon/icon.png\"</span>\n  <span class=\"token key atrule\">adaptive_icon_foreground</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"assets/icon/adaptive_icon.png\"</span>\n  <span class=\"token key atrule\">adaptive_icon_background</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"#FFFFFF\"</span></code></pre></div>","frontmatter":{"title":"Flutter のアイコン作成","date":"September 01, 2019","description":"Android 8.0 より Adaptive Icon が採用され、Flutter でアイコンを設定するとき、気をつけないと iOS と Androit のどちらかがうまく表示できてないといことが起こるので、その設定方法を残す。"}},"previous":{"fields":{"slug":"/2019-06-09--mysql-root-password/"},"frontmatter":{"title":"mysql のパスワード変更"}},"next":{"fields":{"slug":"/2019-09-02--scrum-masters-night/"},"frontmatter":{"title":"Scrum Masters Night に行ってきました"}}},"pageContext":{"id":"b8a5e39b-3f1a-5695-b3cb-2810742829d2","previousPostId":"44279662-f39e-5054-a416-36fc78c49922","nextPostId":"0a10e42c-1a4d-5f74-b645-643307a98000"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}
{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-03-18--flutter-webview/","result":{"data":{"site":{"siteMetadata":{"title":"Concigel's Blog"}},"markdownRemark":{"id":"ee81f0e3-9b67-5ab2-b401-189af39258af","excerpt":"Flutter でガワアプリを作ろうと思う。\nWebView のプラグインがあり、下記記事を参照してやってみた。 webview plugin は バージョンが上がって名称が変わっているので、その変更をしなければならない。 pubspec.yaml に webview_flutter を追加する。 main.dart…","html":"<p>Flutter でガワアプリを作ろうと思う。\nWebView のプラグインがあり、下記記事を参照してやってみた。</p>\n<p><a href=\"https://pub.dartlang.org/packages/webview_flutter\">webview plugin</a> は バージョンが上がって名称が変わっているので、その変更をしなければならない。</p>\n<p>pubspec.yaml に webview_flutter を追加する。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span> 略 <span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">dependencies</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">flutter</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">sdk</span><span class=\"token punctuation\">:</span> flutter\n\n  <span class=\"token key atrule\">cupertino_icons</span><span class=\"token punctuation\">:</span> ^0.1.2\n  <span class=\"token key atrule\">webview_flutter</span><span class=\"token punctuation\">:</span> ^0.3.4\n<span class=\"token punctuation\">---</span> 略 <span class=\"token punctuation\">---</span></code></pre></div>\n<p>main.dart はこんな感じ</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string-literal\"><span class=\"token string\">'package:flutter/material.dart'</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string-literal\"><span class=\"token string\">'package:webview_flutter/webview_flutter.dart'</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">runApp</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">StatelessWidget</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token metadata function\">@override</span>\n  <span class=\"token class-name\">Widget</span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuildContext</span> context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">MaterialApp</span><span class=\"token punctuation\">(</span>\n      routes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-literal\"><span class=\"token string\">\"/\"</span></span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token class-name\">WebView</span><span class=\"token punctuation\">(</span>\n          initialUrl<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"https://www.google.com\"</span></span>\n        <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ドキュメントにある通り、iOS で動かす場合は（エミュレータの場合も）<code class=\"language-text\">ios/Runner/Info.plist</code> に次のキーを追加しなければならない。</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>key</span><span class=\"token punctuation\">></span></span>io.flutter.embedded_views_preview<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>key</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>string</span><span class=\"token punctuation\">></span></span>YES<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>string</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>とりあえず、Android, iOS の実機とエミュレータで表示を確認した。JavaScript とかの再現具合はこれから検証する。</p>\n<p>動かない場合は flutter doctor とか flutter run --verbose で調べてみると良い。</p>\n<p>参考</p>\n<ul>\n<li>\n<p><a href=\"https://qiita.com/Horie1024/items/f5eedd485a436f2c0592\">Flutter で WebView を表示する</a></p>\n</li>\n<li>\n<p><a href=\"https://qiita.com/aoinakanishi/items/e58e7dd537ca1d1b76d6\">Google 公式 Flutter 用 WebView プラグインを一通り使ってみた</a></p>\n</li>\n</ul>","frontmatter":{"title":"Flutter でガワアプリ","date":"March 18, 2019","description":"Hybrid Application"}},"previous":{"fields":{"slug":"/2019-03-07--gotham-zip/"},"frontmatter":{"title":"郵便番号検索APIを作り直した"}},"next":{"fields":{"slug":"/2019-04-19--ubuntu19-04/"},"frontmatter":{"title":"Ubuntu19.04"}}},"pageContext":{"id":"ee81f0e3-9b67-5ab2-b401-189af39258af","previousPostId":"6411574c-56d2-5bf0-8800-e9242a9b8dbb","nextPostId":"4640385e-6fb0-528c-b830-98d2e045a918"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}